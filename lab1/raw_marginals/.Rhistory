install.packages('xpath')
install.packages('xm,l')
install.packages('xml')
install.packages('XML')
install.packages('XML2')
install.packages('xml2')
library(xml2)
setwd("~/Glace speedrun stuff/map files/level maps tiled")
xmlParse()
library(XML)
read_xml(file("frosty1_map.tmx"))
read_xml("frosty1_map.tmx"
read_xml("frosty1_map.tmx")
read_xml("frosty1_map.tmx")
read_xml("frosty1_map.tmx") -> teste
View(teste)
test1 <- teste[["/map/objectgroup/object[@gid='172]"]]
test1 <- teste["/map/objectgroup/object[@gid='172]"]
test1 <- teste["/map/objectgroup/object[@gid='172]"]
View(test1)
test1 <- teste[/map/objectgroup/object[@gid='172]]
test1 <- teste[["//object[gid='172']"]]
test1 <- teste[["//object[@gid='172']"]]
test1 <- teste[[".//object[@gid='172']"]]
test1 <- teste[".//object[@gid='172']"]
View(test1)
View(test1)
test1 <- teste[".//object"]
test1 <- 5
test1 <- c(5,6,7)
test1 <- data.frame(c(5,6,7))
View(test1)
test1 <- teste[".//@id"]
View(test1)
test1 <- teste["//@id"]
View(test1)
number()
library(scales)
number()
teste["//objectgroup/object[1]"]
teste[//objectgroup/object[1]]
string(//objectgroup/object[1]/@id)
string('//objectgroup/object[1]/@id')
number('//objectgroup/object[1]/@id')
teste['//objectgroup/object[1]/@id']
teste[string('//objectgroup/object[1]/@id')]
teste[('//objectgroup/object[1]/@id')]
teste[['//objectgroup/object[1]/@id']]
teste['//objectgroup/object[1]/@id']
xml_find_all(tese, //objectgroup/object)
xml_find_all(tese, "//objectgroup/object")
xml_find_all(teste, "//objectgroup/object")
xml_find_all(teste, "//objectgroup/object[@id='1']")
xml_find_all(teste, string("//objectgroup/object[1]/@id")
xml_find_all(teste, string("//objectgroup/object[1]/@id"))
xml_find_all(teste, "string(//objectgroup/object[1]/@id)")
xml_find_all(teste, "//objectgroup/object/@id")
xml_find_all(teste, "//objectgroup/object[1]/@id")
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"),id)
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"),@id)
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"), '@id')
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"), 'id')
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"), 'id') -> tese1
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"), 'id', ns = character()) -> tese1
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"), 'id', ns = character())
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"), 'id', ns = number())
xml_attr(xml_find_all(teste, "//objectgroup/object[1]"), 'id')
as.numeric(tese1)
as.numeric(tese1) -> tese2
setwd("~/")
#######################
#Set paths:
tmxPath = "Glace speedrun stuff/map files/level maps tiled/grass1_map.tmx"
tsPath = "path/to/tileset"
glacePath = "path/to/glace/folder"
#Set new level name:
levelName = "name_of_level" #This needs to match one of the existing level names
#Set various values
numBeads = 3
#######################
library(xml2)
map <- read_xml(tmxPath)
rm(test1,teste)
rm(glacePath,levelName,numBeads)
rm(tese1,tese2)
rm(tsPath)
View(map)
mapWidth = as.numeric(xml_attr(xml_find_first(map, '/map'), 'width'))
mapHeight = as.numeric(xml_attr(xml_find_first(map, '/map'), 'height'))
install.packages(c("blob", "broom", "cli", "colorspace", "cpp11", "curl", "dplyr", "e1071", "ellipsis", "fansi", "gargle", "ggplot2", "googledrive", "googlesheets4", "haven", "hms", "htmltools", "installr", "isoband", "knitr", "mime", "openssl", "pillar", "processx", "proxy", "R6", "Rcpp", "readr", "remotes", "reprex", "rlang", "rmarkdown", "rvest", "sf", "sm", "stringi", "tibble", "tidyselect", "tinytex", "units", "utf8", "vctrs", "wellknown", "wk", "xfun", "XML"))
install.packages("remotes")
library(tidyverse)
glue('hello')
glue::glue('hello')
cd ..
setwd("~/..")
getwd()
setwd("Downloads")
ls()
setwd("U:/shayd/Downloads/raw_marginals")
library(tidyverse)
read_csv("raw_vehicles.csv")
read_csv("raw_vehicles.csv") -> veh
rm(ls())
rm(list = ls())
read_csv("raw_vehicles.csv") -> veh
polyfit
install.packages("pacman")
library(pacman)
p_load("pracma")
p_load("pracma")
library(pracma)
View(veh)
polyfix(veh$average, veh$`0`, 4, c(0,2.5), c(1,0.08))
lm(veh$average ~ polyfix(veh$average, veh$`0`, 4, c(0,2.5), c(1,0.08)))
polyfix(veh$average, veh$`0`, 4, c(0,2.5), c(1,0.08)) ->fix
x <- veh$average
polyval(x, fit)
polyval(x, fix)
polyval(fix, x)
plot(x, polyval(fix,x))
polyfix(veh$average, veh$`0`, 2, c(0,2.5), c(1,0.08)) ->fix
plot(x, polyval(fix,x))
polyval(fix,x) -> veh$`0`
for(val in veh[,2:5]){}
for(val in veh[,2:5]){
if val < 0 {val = 0}
if val > 1 {val = 1}
}
for(val in veh[,2:5]){
if (val < 0) {val = 0}
if (val > 1) {val = 1}
}
for(val in veh[,2:5]){
if (val < 0) val = 0
if (val > 1) val = 1
}
if(veh[row,col] > 1) veh[row,col] = 1
if(veh[row,coll] < 0) veh[row,col] = 0
source("~/.active-rstudio-document", echo=TRUE)
plot(veh)
fix -> fix0
rm(fix)
val -> val0
rm(val)
plot(x0, val0)
plot(x, val0)
plot(x ~ val0)
x
val0
fix0
polyval(fix0, x) -> y0
y0
plot(x ~ y0)
plot(x , y0)
rm(val0)
y <- veh$`1`
n <- 2
n <- 2
xfix <- c(0, 2.5)
yfix <- c(0, .1)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfix
yfixx -> y1
plot(y1 ~x)
yfixx -> y1
plot(y1 ~x)
yfix -> y1
plot(y1 ~x)
veh$`1` <- y1
y <- veh$`2`
n <- 2
xfix <- c(0, 2.5)
yfix <- c(0, .1)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfix
yfix -> y2
plot(y2 ~x)
y <- veh$`2`
y <- veh$`2`
n <- 2
xfix <- c(0, 2.5)
yfix <- c(0, .12)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfix
yfix <- c(0, .12)
polyval(fixx, x) -> yfixx
yfixx -> y2
plot(y2 ~x)
write_csv(veh, "veh.csv")
y <- veh$`2`
n <- 5
xfix <- c(0, 0.1, 2.5)
yfix <- c(0, .05, .12)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfixx
yfixx -> y2
plot(y2 ~x)
n <- 20
xfix <- c(0, 0.1, 2.5)
yfix <- c(0, .05, .12)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfixx
yfixx -> y2
plot(y2 ~x)
polyfix(x,y,n,xfix,yfix) -> fixx
n <- 10
xfix <- c(0, 0.1, 2.5)
yfix <- c(0, .05, .12)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfixx
yfixx -> y2
plot(y2 ~x)
n <- 3
xfix <- c(0, 0.1, 2.5)
yfix <- c(0, .05, .12)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfixx
yfixx -> y2
plot(y2 ~x)
xfix <- c(0, 0.8, 2.5)
yfix <- c(0, .2, .2)
polyfix(x,y,n,xfix,yfix) -> fixx
polyval(fixx, x) -> yfixx
yfixx -> y2
plot(y2 ~x)
veh$`2` <- y2
write_csv(veh, "veh.csv")
